{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const storageKey = 'feedback-form-state';\n\nlet formData = {\n  email: '',\n  message: '',\n};\nconst form = document.querySelector('.feedback-form');\nconst emailInput = form.elements.email;\nconst messageInput = form.elements.message;\nconst labels = form.querySelectorAll('label');\nlabels.forEach(label => {\n  label.classList.add('form-label');\n});\nconst input = form.querySelector('input');\ninput.classList.add('form-input');\nconst textarea = form.querySelector('textarea');\ntextarea.classList.add('form-textarea');\nconst button = form.querySelector('button');\nbutton.classList.add('form-button');\n\nfunction dataFromStorage() {\n  const savedData = localStorage.getItem(storageKey);\n  if (savedData) {\n    formData = JSON.parse(savedData);\n    emailInput.value = formData.email || '';\n    messageInput.value = formData.message || '';\n  }\n}\nform.addEventListener('input', event => {\n  formData[event.target.name] = event.target.value.trim();\n  localStorage.setItem(storageKey, JSON.stringify(formData));\n});\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  if (!formData.email || !formData.message) {\n    let errorMessage = document.querySelector('.error-message');\n    if (!errorMessage) {\n      errorMessage = document.createElement('p');\n      errorMessage.className = 'error-message';\n      errorMessage.textContent = 'Fill please all fields';\n      textarea.insertAdjacentElement('afterend', errorMessage);\n    }\n    return;\n  }\n  const errorMessage = document.querySelector('.error-message');\n  if (errorMessage) {\n    errorMessage.remove();\n  }\n  console.log('Form data: ', formData);\n  formData = { email: '', message: '' };\n  localStorage.removeItem(storageKey);\n  form.reset();\n});\ndataFromStorage();\n"],"names":["storageKey","formData","form","emailInput","messageInput","labels","label","input","textarea","button","dataFromStorage","savedData","event","errorMessage"],"mappings":"oDAAA,MAAMA,EAAa,sBAEnB,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EACA,MAAMC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAaD,EAAK,SAAS,MAC3BE,EAAeF,EAAK,SAAS,QAC7BG,EAASH,EAAK,iBAAiB,OAAO,EAC5CG,EAAO,QAAQC,GAAS,CACtBA,EAAM,UAAU,IAAI,YAAY,CAClC,CAAC,EACD,MAAMC,EAAQL,EAAK,cAAc,OAAO,EACxCK,EAAM,UAAU,IAAI,YAAY,EAChC,MAAMC,EAAWN,EAAK,cAAc,UAAU,EAC9CM,EAAS,UAAU,IAAI,eAAe,EACtC,MAAMC,EAASP,EAAK,cAAc,QAAQ,EAC1CO,EAAO,UAAU,IAAI,aAAa,EAElC,SAASC,GAAkB,CACzB,MAAMC,EAAY,aAAa,QAAQX,CAAU,EAC7CW,IACFV,EAAW,KAAK,MAAMU,CAAS,EAC/BR,EAAW,MAAQF,EAAS,OAAS,GACrCG,EAAa,MAAQH,EAAS,SAAW,GAE7C,CACAC,EAAK,iBAAiB,QAASU,GAAS,CACtCX,EAASW,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAAM,OACjD,aAAa,QAAQZ,EAAY,KAAK,UAAUC,CAAQ,CAAC,CAC3D,CAAC,EACDC,EAAK,iBAAiB,SAAUU,GAAS,CAEvC,GADAA,EAAM,eAAc,EAChB,CAACX,EAAS,OAAS,CAACA,EAAS,QAAS,CACxC,IAAIY,EAAe,SAAS,cAAc,gBAAgB,EACrDA,IACHA,EAAe,SAAS,cAAc,GAAG,EACzCA,EAAa,UAAY,gBACzBA,EAAa,YAAc,yBAC3BL,EAAS,sBAAsB,WAAYK,CAAY,GAEzD,MACD,CACD,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EACxDA,GACFA,EAAa,OAAM,EAErB,QAAQ,IAAI,cAAeZ,CAAQ,EACnCA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnC,aAAa,WAAWD,CAAU,EAClCE,EAAK,MAAK,CACZ,CAAC,EACDQ,EAAiB"}